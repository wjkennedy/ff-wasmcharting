app:
  runtime:
    name: nodejs22.x

modules:
  function:
    - key: canvas-resolver
      handler: src/index.handler

  jira:projectPage:
    - key: enterprise-flow-canvas-project-page
      title: Enterprise Flow Canvas
      resource: canvas-ui
      resolver:
        function: canvas-resolver
      route: /flow-canvas

  jira:adminPage:
    - key: enterprise-flow-canvas-admin-page
      title: Enterprise Flow Canvas Admin
      resource: admin-ui
      resolver:
        function: canvas-resolver
      render: native
      route: /admin
      useAsConfig: true

resources:
  - key: canvas-ui
    path: static/canvas-ui
  - key: admin-ui
    path: src/frontend/admin.jsx

permissions:
  scopes:
    - read:jira-work
    - read:jira-user
    - storage:app
