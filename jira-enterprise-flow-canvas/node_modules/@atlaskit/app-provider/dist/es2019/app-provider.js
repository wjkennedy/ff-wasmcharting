import React from 'react';
import { AppProviderThemingEnabledContext, InsideAppProviderContext, useIsInsideAppProvider } from './context';
import RouterLinkProvider from './router-link-provider';
import ThemeProvider from './theme-provider';
/**
 * __App provider__
 *
 * An app provider provides app level configuration such as global theming.
 *
 * Place it at the root of your application.
 */
function AppProvider({
  children,
  defaultColorMode = 'light',
  defaultTheme,
  routerLinkComponent,
  UNSAFE_isThemingDisabled
}) {
  const isInsideAppProvider = useIsInsideAppProvider();
  if (isInsideAppProvider) {
    throw new Error('App provider should not be nested within another app provider.');
  }
  const routerLinkProvider = /*#__PURE__*/React.createElement(RouterLinkProvider, {
    routerLinkComponent: routerLinkComponent
  }, children);
  return /*#__PURE__*/React.createElement(InsideAppProviderContext.Provider, {
    value: true
  }, UNSAFE_isThemingDisabled ? routerLinkProvider : /*#__PURE__*/React.createElement(AppProviderThemingEnabledContext.Provider, {
    value: true
  }, /*#__PURE__*/React.createElement(ThemeProvider, {
    defaultColorMode: defaultColorMode,
    defaultTheme: defaultTheme
  }, routerLinkProvider)));
}
export default AppProvider;