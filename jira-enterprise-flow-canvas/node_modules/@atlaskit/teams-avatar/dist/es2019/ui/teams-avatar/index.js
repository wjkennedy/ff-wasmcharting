import _extends from "@babel/runtime/helpers/extends";
import React from 'react';
import Avatar from '@atlaskit/avatar';
import { N0, N90 } from '@atlaskit/theme/colors';
import { TeamAvatarImage } from './teams-avatar-image';

/*
 * The component accepts src and teamId as input params. Order of preference:
 * If src is provided, use that directly.
 * Else if teamId is provided, use that to generate the static image URL.
 * Else fallback.
 */

export const ICON_BACKGROUND = `var(--ds-icon-inverse, ${N0})`;
export const ICON_COLOR = `var(--ds-icon-subtle, ${N90})`;
export default function TeamAvatar({
  testId,
  src,
  size = 'medium',
  teamId = '',
  compact = false,
  ...props
}) {
  // Strip ARI in case the teamId was given in that format
  teamId = teamId.replace('ari:cloud:identity::team/', '');
  return /*#__PURE__*/React.createElement(Avatar, _extends({
    appearance: "square"
  }, props, {
    size: size,
    src: src,
    testId: `${testId}-team-avatar`
  }), /*#__PURE__*/React.createElement(TeamAvatarImage, {
    src: src,
    size: size,
    testId: testId,
    teamId: teamId,
    compact: compact
  }));
}