"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addUFOCustomCohortData = addUFOCustomCohortData;
exports.default = UFOCustomCohortData;
var _react = require("react");
var _interactionContext = _interopRequireDefault(require("../interaction-context"));
var _interactionIdContext = require("../interaction-id-context");
var _interactionMetrics = require("../interaction-metrics");
function UFOCustomCohortData(_ref) {
  var dataKey = _ref.dataKey,
    value = _ref.value;
  var interactionContext = (0, _react.useContext)(_interactionContext.default);
  (0, _react.useMemo)(function () {
    if (!interactionContext) {
      return;
    }
    var interactionId = (0, _interactionIdContext.getInteractionId)();
    var currentInteractionId = interactionId.current;
    if (!currentInteractionId) {
      return;
    }
    (0, _interactionMetrics.addCohortingCustomData)(currentInteractionId, dataKey, value);
  }, [dataKey, value, interactionContext]);
  return null;
}
function addUFOCustomCohortData(key, value) {
  var interactionId = (0, _interactionIdContext.getInteractionId)();
  var currentInteractionId = interactionId.current;
  if (!currentInteractionId) {
    return;
  }
  (0, _interactionMetrics.addCohortingCustomData)(currentInteractionId, key, value);
}