"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getMoreAccuratePageVisibilityUpToTTAI = getMoreAccuratePageVisibilityUpToTTAI;
var _getPageVisibilityUpToTtai = _interopRequireDefault(require("./get-page-visibility-up-to-ttai"));
var _getVisibilityStateFromPerformance = require("./get-visibility-state-from-performance");
function getMoreAccuratePageVisibilityUpToTTAI(interaction) {
  var old = (0, _getPageVisibilityUpToTtai.default)(interaction);
  var buffered = (0, _getVisibilityStateFromPerformance.getVisibilityStateFromPerformance)(interaction.end);
  if (!buffered) {
    return old;
  }
  if (buffered !== old) {
    return 'mixed';
  }
  return old;
}