"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = findFiberWithCache;
var _findReactFiber = _interopRequireDefault(require("./find-react-fiber"));
function findFiberWithCache(element, maxLevel, checkedNodes) {
  // Stop when no more levels to traverse
  if (maxLevel <= 0) {
    return null;
  }
  checkedNodes.push(element);
  var fiber = (0, _findReactFiber.default)(element);
  if (fiber) {
    return fiber;
  }

  // Walk up the DOM tree to find the fiber
  var parent = element.parentElement;
  if (!parent) {
    return null;
  }

  // Recursively check parent
  return findFiberWithCache(parent, maxLevel - 1, checkedNodes);
}