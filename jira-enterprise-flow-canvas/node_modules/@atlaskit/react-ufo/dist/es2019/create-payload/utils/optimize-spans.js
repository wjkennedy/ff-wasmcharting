import { optimizeLabelStack } from '../common/utils';
export function optimizeSpans(spans, interactionStart, reactUFOVersion) {
  const updatedSpans = spans.reduce((result, span) => {
    const {
      labelStack,
      type,
      name,
      start,
      end
    } = span;
    if (labelStack && start >= interactionStart) {
      result.push({
        labelStack: optimizeLabelStack([...labelStack, {
          name
        }], reactUFOVersion),
        startTime: Math.round(start),
        endTime: Math.round(end),
        type
      });
    }
    return result;
  }, []);
  return updatedSpans;
}