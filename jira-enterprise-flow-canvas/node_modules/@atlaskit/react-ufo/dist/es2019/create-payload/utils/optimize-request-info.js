import { optimizeLabelStack } from '../common/utils';
export function optimizeRequestInfo(requestInfo, interactionStart, reactUFOVersion) {
  const updatedRequestInfo = requestInfo.reduce((result, reqInfo) => {
    const {
      labelStack,
      name,
      start,
      end,
      networkStart,
      networkComplete
    } = reqInfo;
    const startTime = networkStart !== null && networkStart !== void 0 ? networkStart : start;
    const endTime = networkComplete !== null && networkComplete !== void 0 ? networkComplete : end;
    if (labelStack && start >= interactionStart && endTime) {
      result.push({
        labelStack: optimizeLabelStack([...labelStack, {
          name
        }], reactUFOVersion),
        startTime: Math.round(startTime),
        endTime: Math.round(endTime)
      });
    }
    return result;
  }, []);
  return updatedRequestInfo;
}