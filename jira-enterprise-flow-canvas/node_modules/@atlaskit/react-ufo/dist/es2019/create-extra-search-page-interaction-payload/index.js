const interactionBuffer = [];
let bufferInteractionData = (interactionId, data) => {
  interactionBuffer.push({
    interactionId,
    data
  });
};
function clearInteractionBuffer() {
  interactionBuffer.length = 0;
}
function appendInteractionData(interactionId, data) {
  bufferInteractionData(interactionId, data);
}
function installInteractionSink(handler) {
  for (const {
    interactionId,
    data
  } of interactionBuffer) {
    handler(interactionId, data);
  }
  clearInteractionBuffer();
  bufferInteractionData = handler;
}
export function sinkExtraSearchPageInteractionHandler(sinkFn) {
  installInteractionSink(sinkFn);
}
export function onSearchPageInteractionComplete(interactionId, data) {
  if (data.ufoName) {
    appendInteractionData(interactionId, data);
    clearInteractionBuffer();
  }
}