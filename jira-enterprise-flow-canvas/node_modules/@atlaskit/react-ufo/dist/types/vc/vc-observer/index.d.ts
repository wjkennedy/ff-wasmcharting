import { type UnbindFn } from 'bind-event-listener';
import type { ComponentsLogType, VCAbortReasonType, VCEntryType, VCIgnoreReason, VCRatioType, VCRawDataType, VCResult } from '../../common/vc/types';
import type { GetVCResultType, VCObserverInterface, VCObserverOptions } from '../types';
import { type VCRevisionDebugDetails } from './getVCRevisionDebugDetails';
import { Observers } from './observers';
declare global {
    interface Window {
        __ufo_devtool_onVCRevisionReady__?: (debugInfo: VCRevisionDebugDetails) => void;
        __on_ufo_vc_debug_data_ready?: (debugInfo: VCRevisionDebugDetails) => void;
    }
}
export declare class VCObserver implements VCObserverInterface {
    abortReason: VCAbortReasonType;
    outOfBoundaryInfo: string;
    /** config * */
    static VCParts: readonly ["25", "50", "75", "80", "85", "90", "95", "98", "99"];
    viewport: {
        w: number;
        h: number;
    };
    arraySize: number;
    heatmap: number[][];
    heatmapNext: number[][];
    componentsLog: ComponentsLogType;
    vcRatios: VCRatioType;
    active: boolean;
    totalTime: number;
    startTime: number;
    observers: Observers;
    private _startMeasureTimestamp;
    ssr: {
        reactRendered: number;
    };
    devToolsEnabled: boolean;
    oldDomUpdatesEnabled: boolean;
    unbind: UnbindFn[];
    isPostInteraction?: boolean;
    constructor(options: VCObserverOptions);
    start({ startTime }: {
        startTime: number;
    }): void;
    stop(): void;
    getAbortReasonInfo: () => string | null;
    getVCRawData: () => VCRawDataType | null;
    getIgnoredElements(componentsLog: ComponentsLogType): {
        targetName: string;
        ignoreReason: VCIgnoreReason | undefined;
    }[];
    static getSSRRatio(entries: VCEntryType[], ssr?: number): number | undefined;
    getVCResult: ({ start, stop, tti, prefix, ssr, vc, isEventAborted, experienceKey, interactionId, includeSSRRatio, }: GetVCResultType) => Promise<VCResult>;
    static calculateVC({ heatmap, ssr, componentsLog, viewport, fixSSRAttribution, }: {
        heatmap: number[][];
        ssr?: number;
        componentsLog: ComponentsLogType;
        viewport: {
            w: number;
            h: number;
        };
        fixSSRAttribution?: boolean;
    }): {
        VC: {
            [key: string]: number | null;
        };
        VCBox: {
            [key: string]: string[] | null;
        };
        VCEntries: {
            abs: number[][];
            rel: VCEntryType[];
            speedIndex: number;
        };
        totalPainted: number;
    };
    setSSRElement(element: HTMLElement): void;
    setReactRootRenderStart(startTime?: number): void;
    setReactRootRenderStop(stopTime?: number): void;
    collectSSRPlaceholders(): void;
    private handleUpdate;
    private setAbortReason;
    private resetState;
    private getCleanHeatmap;
    private setViewportSize;
    private mapPixelsToHeatmap;
    private getElementRatio;
    private applyChangesToHeatMap;
    static makeVCReturnObj<T>(): {
        [key: string]: T | null;
    };
    private abortReasonCallback;
    private attachAbortListeners;
    private detachAbortListeners;
    private measureStart;
    private measureStop;
}
