import type { RevisionPayloadEntry, VCAbortReason } from '../../../common/vc/types';
import type { VCRevisionDebugDetails } from '../../vc-observer/getVCRevisionDebugDetails';
import type { VCObserverEntry } from '../types';
import type { VCCalculator, VCCalculatorParam } from './types';
declare global {
    interface Window {
        __ufo_devtool_onVCRevisionReady__?: (debugInfo: VCRevisionDebugDetails) => void;
        __on_ufo_vc_debug_data_ready?: (debugInfo: VCRevisionDebugDetails) => void;
        __ufo_devtool_vc_3p_debug_data?: VCRevisionDebugDetails;
    }
}
export default abstract class AbstractVCCalculatorBase implements VCCalculator {
    private revisionNo;
    constructor(revisionNo: string);
    protected abstract isEntryIncluded(entry: VCObserverEntry, include3p?: boolean, excludeSmartAnswersInSearch?: boolean): boolean;
    protected abstract getVCCleanStatus(filteredEntries: ReadonlyArray<VCObserverEntry>): {
        isVCClean: boolean;
        dirtyReason?: VCAbortReason;
        abortTimestamp?: number;
    };
    private filterViewportEntries;
    /**
     * Calculate ratios for each element based on their viewport coverage.
     */
    private calculateRatios;
    private getLabelStacks;
    private calculateWithDebugInfo;
    calculate({ startTime, stopTime, orderedEntries, interactionId, isPostInteraction, include3p, excludeSmartAnswersInSearch, includeSSRRatio, interactionType, isPageVisible, interactionAbortReason, }: VCCalculatorParam): Promise<RevisionPayloadEntry | undefined>;
}
