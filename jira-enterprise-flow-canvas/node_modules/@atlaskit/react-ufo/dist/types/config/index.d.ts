import type { AssetsConfig, InteractionMetrics, InteractionType } from '../common';
export interface AdditionalData {
    [key: string]: null | string | number | boolean | undefined | AdditionalData | Record<string, AdditionalData> | Array<AdditionalData>;
}
interface InteractionMetricsConfig {
    readonly enabled?: boolean;
    readonly rates?: Rates;
    readonly kind?: Record<InteractionType, number>;
}
export interface SSRTiming {
    label: string;
    data: {
        startTime: number;
        duration: number;
    };
}
type Capability = 'feature_flag_access' | 'react_profiler';
type InteractionKind = 'page_load' | 'transition' | 'press' | 'typing' | 'legacy' | 'hover';
type UFONameOverride = {
    readonly [ufoName: string]: {
        readonly [metricKey: string]: string;
    };
};
type ResourceType = 'script' | 'link' | 'fetch' | 'xmlhttprequest';
type SelectorConfig = {
    id: boolean;
    testId: boolean;
    role: boolean;
    className: boolean;
    dataVC?: boolean;
};
type SegmentThreshold = {
    readonly [key: string]: number;
};
type Rates = {
    readonly [key: string]: number;
};
export type TTVCRevision = 'fy25.01' | 'fy25.02' | 'fy25.03' | 'fy26.04' | 'next';
export declare const DEFAULT_TTVC_REVISION = "fy25.03";
export declare const UNKNOWN_INTERACTION_RATE = 1000;
export type ReactHydrationStats = {
    /**
     * Indicates if hydration of SSR content failed, so React switching to client-side rendering and re-rendered from scratch.
     */
    successful: boolean;
    /**
     * The total number of hydration errors reported from {@code hydrateRoot#onRecoverableError}.
     */
    warningCount?: number;
    /**
     * The depth in the React component tree of the shallowest warning.
     */
    minWarningComponentDepth?: number;
    /**
     * The depth in the React component tree of the deepest warning.
     */
    maxWarningComponentDepth?: number;
    /**
     * The ratio of DOM nodes preserved during hydration (between 0 and 1).
     */
    preservationRatio?: number;
};
export type Config = {
    readonly enabled?: boolean;
    readonly interactionTimeout?: Record<string, number>;
    readonly minorInteractions?: string[];
    readonly doNotAbortActivePressInteraction?: string[];
    readonly doNotAbortActivePressInteractionOnTransition?: string[];
    readonly finishInteractionOnTransition?: string[];
    readonly awaitBM3TTI?: string[];
    readonly ufoNameOverrides?: UFONameOverride;
    readonly namePrefix?: string;
    readonly segmentPrefix?: string;
    readonly rates?: Rates;
    readonly rules?: readonly {
        readonly test?: string;
        readonly rate?: number;
    }[];
    readonly killswitch?: readonly string[];
    /**
     * @private
     * @deprecated - remove on FG cleanup of platform_ufo_remove_deprecated_config_fields
     */
    readonly killswitchNestedSegments?: boolean;
    readonly typingMethod?: string;
    /**
     * @private
     * @deprecated - remove on FG cleanup of platform_ufo_remove_deprecated_config_fields
     */
    readonly capability?: Record<Capability, number>;
    readonly kind?: Record<InteractionKind, number>;
    readonly allowedResources?: Array<ResourceType>;
    readonly allowedResourcesParams?: Array<string>;
    readonly autoGeneratedRate?: number;
    readonly product: string;
    /**
     * The Event Population is intended for segmenting traffic based on
     * overrides/segments used in Statsig for targeting.
     * ie. "customer-test", "internal-test", "release-tracks", "experiment-population"
     *
     * See https://console.statsig.com/LqivKg6ADZZaGczRfBKfX/dynamic_configs/cc_ufo_group
     * for an example dynamic config powering the Confluence population.
     */
    readonly population?: string;
    readonly region: string;
    readonly additionalPayloadData?: (interaction: InteractionMetrics) => AdditionalData;
    readonly ssr?: {
        readonly getSSRTimings?: () => SSRTiming[];
        readonly getSSRDoneTime?: () => number | undefined;
        readonly enableNativeTracing?: boolean;
    };
    readonly assetsConfig?: AssetsConfig;
    readonly enableBetterPageVisibilityApi?: boolean;
    readonly segmentsThreshold?: SegmentThreshold;
    readonly vc?: {
        readonly enabled?: boolean;
        readonly heatmapSize?: number;
        readonly oldDomUpdates?: boolean;
        readonly devToolsEnabled?: boolean;
        readonly selectorConfig?: SelectorConfig;
        readonly ssr?: boolean;
        readonly ssrWhitelist?: string[];
        readonly ssrEnablePageLayoutPlaceholder?: boolean;
        readonly includeSSRInV3?: boolean;
        readonly stopVCAtInteractionFinish?: boolean;
        readonly includeSSRRatio?: boolean;
        /**
         * The revisions of TTVC that will be calculated
         * - `all` is the TTVC revisions that are used on a product level
         * - `byExperience` is the version that is used on an experience level.
         *   Note that an entry in the `byExperience` config should only be a SUBSET of the `all` config,
         *   i.e. every element for all `byExperience` entry configs should exist in the `all` config
         */
        readonly enabledVCRevisions?: {
            all: readonly TTVCRevision[];
            byExperience?: Record<string, readonly TTVCRevision[]>;
        };
    };
    readonly postInteractionLog?: {
        readonly enabled?: boolean;
        readonly rates?: Rates;
        readonly kind?: Record<InteractionType, number>;
    };
    readonly experimentalInteractionMetrics?: {
        readonly enabled?: boolean;
        readonly rates?: Rates;
        readonly kind?: Record<InteractionType, number>;
    };
    /**
     * Option to enable terminal error tracking
     */
    readonly terminalErrors?: {
        readonly enabled?: boolean;
    };
    /**
     * @private
     * @deprecated - to be removed on next major version
     */
    readonly enableSegmentHighlighting?: boolean;
    readonly enableAdditionalPerformanceMarks?: boolean;
    /**
     * @private
     * @deprecated - remove on FG cleanup of platform_ufo_remove_deprecated_config_fields
     */
    readonly shouldCalculateLighthouseMetricsFromTTAI?: boolean;
    readonly timeWindowForLateMutationsInMilliseconds?: number;
    readonly manuallyTrackReactProfilerMounts?: boolean;
    /**
     * Callback for consumers to provide React hydration stats after React has finished.
     * Return {@code null} if hydration was not attempted or if we do not want to report any stats.
     */
    readonly getReactHydrationStats?: (() => ReactHydrationStats | undefined) | undefined;
    /**
     * Whether ttvc with 3p measurement is enabled and sent new event for experiences with sample rates
     */
    readonly extraInteractionMetrics?: InteractionMetricsConfig;
    /**
     * Option to enable an additional metric to track search page load times with SAIN ignored
     */
    readonly extraSearchPageInteraction?: {
        readonly enabled: boolean;
        readonly searchPageMetricName: string;
        readonly searchPageRoute: string;
    };
    readonly enableVCRawDataRates?: {
        readonly enabled?: boolean;
        readonly rates?: Rates;
        readonly kind?: Record<InteractionType, number>;
    };
};
export declare function setUFOConfig(newConfig: Config): void;
export declare function getConfig(): Config | undefined;
export declare function getEnabledVCRevisions(experienceKey?: string): readonly TTVCRevision[];
export declare function isVCRevisionEnabled(revision: TTVCRevision, experienceKey?: string): boolean;
export declare function getMostRecentVCRevision(experienceKey?: string): TTVCRevision;
export declare function getReactHydrationStats(): ReactHydrationStats | undefined;
export declare function getInteractionRate(name: string, interactionKind: InteractionKind): number;
export declare function getExperimentalInteractionRate(name: string, interactionType: InteractionType): number;
export declare function getVCRawDataInteractionRate(name: string, interactionType: InteractionType): number;
export declare function shouldUseRawDataThirdPartyBehavior(name: string, interactionType: InteractionType): boolean;
export declare function getPostInteractionRate(name: string, interactionType: InteractionType): number;
export declare function getCapabilityRate(capability: Capability): number;
export declare function getExtraInteractionRate(name: string, interactionType: InteractionType): number;
declare const validTypingMethods: readonly ["timeout", "timeoutNoAlloc", "mutationObserver"];
type ValidTypingMethod = (typeof validTypingMethods)[number];
export declare function getTypingPerformanceTracingMethod(): ValidTypingMethod;
export declare function getAwaitBM3TTIList(): string[];
export declare function getUfoNameOverrides(): UFONameOverride | undefined;
export declare function getMinorInteractions(): string[] | undefined;
export declare function getDoNotAbortActivePressInteraction(): string[] | undefined;
export declare function getDoNotAbortActivePressInteractionOnTransition(): string[] | undefined;
export declare function getFinishInteractionOnTransition(): string[] | undefined;
export declare const CLEANUP_TIMEOUT: number;
export declare function getInteractionTimeout(ufoName: string): number;
export {};
