"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateSingleProperty = void 0;
const text_1 = require("../../../text");
const utils_1 = require("../../../utils");
const validateSingleProperty = (allModules, moduleType, property, yamlContentByLine) => {
    const validationErrors = [];
    const modules = allModules[moduleType] || [];
    const modulesWithProperty = modules.filter((module) => module[property]);
    if (modulesWithProperty.length > 1) {
        const moduleKeys = modulesWithProperty.map((module) => module.key);
        validationErrors.push({
            message: text_1.errors.modules.confluence.multipleProperty(property, moduleType, moduleKeys),
            reference: text_1.References.Modules,
            level: 'error',
            ...(0, utils_1.findPosition)(moduleKeys[moduleKeys.length - 1], yamlContentByLine)
        });
    }
    return validationErrors;
};
exports.validateSingleProperty = validateSingleProperty;
