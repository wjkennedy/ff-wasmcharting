"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateIcon = exports.validateRoute = void 0;
const VALID_ROUTE_PATTERN = new RegExp(/^[a-z0-9\\-]+$/);
const mapToFullPageError = (validationErrors, moduleKey) => validationErrors.map((message) => ({ moduleKey, message }));
const validateRegex = (pattern, moduleKey, index, errorMessages) => {
    const validationErrors = [];
    if (!VALID_ROUTE_PATTERN.test(pattern)) {
        validationErrors.push(errorMessages.invalidRouteRegex(pattern, moduleKey, index));
    }
    return validationErrors;
};
const iconCheck = (icon, moduleKey, index, errorMessages) => {
    const validationErrors = [];
    if (!icon.startsWith('resource:') || !icon.endsWith('.svg')) {
        validationErrors.push(errorMessages.invalidIcon(icon, moduleKey, index));
    }
    return validationErrors;
};
const validateRoute = (moduleKey, pattern, index, errorMessages) => {
    const validationErrors = [];
    validationErrors.push(...validateRegex(pattern, moduleKey, index, errorMessages));
    return mapToFullPageError(validationErrors, moduleKey);
};
exports.validateRoute = validateRoute;
const validateIcon = (moduleKey, icon, index, errorMessages) => {
    const validationErrors = [];
    validationErrors.push(...iconCheck(icon, moduleKey, index, errorMessages));
    return mapToFullPageError(validationErrors, moduleKey);
};
exports.validateIcon = validateIcon;
